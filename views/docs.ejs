<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>API Documentation</title>
</head>

<body>
  <h1>API Documentation</h1>
  <p>This document provides an overview of the available APIs in this application.</p>

  <h2>Authentication</h2>
  <ul>
    <li>
      <b>POST /student/login</b>
      <ul>
        <li>Description: Login a user.</li>
        <li>Request Body:</li>
          <ul>
            <li>USN: (String) The user's USN.</li>
            <li>password: (String) The user's password.</li>
          </ul>
        <li>Response:</li>
          <ul>
            <li>Status 200: Login successful! (on success)</li>
            <li>Status 400: Missing required fields: USN and password. (if USN or password is missing)</li>
            <li>Status 401: Invalid USN or Invalid password. (on invalid credentials)</li>
            <li>Status 500: Internal server error. (on internal server error)</li>
          </ul>
      </ul>
    </li>
    <li>
      <b>POST /student/logout</b>
      <ul>
        <li>Description: Logout the currently logged-in user.</li>
        <li>Requires Authentication: Yes</li>
        <li>Response:</li>
          <ul>
            <li>Status 200: User successfully logged out (on success)</li>
            <li>Status 500: Internal server error. (on internal server error)</li>
          </ul>
      </ul>
    </li>
    <li>
      <b>GET /student/is-logged-in</b>
      <ul>
        <li>Description: Check if the user is currently logged in.</li>
        <li>Response:</li>
          <ul>
            <li>Status 200: JSON object with a `result` property indicating whether the user is logged in (true) or not (false).</li>
          </ul>
      </ul>
    </li>
  </ul>

  <h2>Student Registration</h2>
  <ul>
    <li>
      <b>POST /student/register</b>
      <ul>
        <li>Description: Register a new student user.</li>
        <li>Request Body:</li>
          <ul>
            <li>USN: (String) The student's USN.</li>
            <li>password: (String) The student's password.</li>
          </ul>
        <li>Response:</li>
          <ul>
            <li>Status 201: User registered successfully! (on success, includes the newly created user data)</li>
            <li>Status 400: Missing required fields: USN and password. (if USN or password is missing)</li>
            <li>Status 409: USN already exists. (if the provided USN is already registered)</li>
            <li>Status 500: Internal server error. (on internal server error)</li>
          </ul>
      </ul>
    </li>
  </ul>

  <h2>Student Information</h2>
  <ul>
    <li>
      <b>POST /student/form</b>
      <ul>
        <li>Description: Submit the student's details.</li>
        <li>Requires Authentication: Yes</li>
        <li>Request Body:</li>
          <ul>
            <li>Name: (String) Student's name.</li>
            <li>Department: (String) Student's department.</li>
            <li>Semester: (String) Student's current semester.</li>
            <li>Address: (String) Student's address.</li>
            <li>PhoneNo: (String) Student's phone number.</li>
            <li>EmailId: (String) Student's email ID.</li>
            <li>DOB: (String) Student's date of birth (YYYY-MM-DD format).</li>
            <li>BloodGrp: (String) Student's blood group.</li>
            <li>CGPA: (Number) Student's CGPA.</li>
            <li>RoomNo: (String) Student's room number.</li>
            <li>HostelId: (String) Student's hostel ID.</li>
          </ul>
        <li>Response:</li>
          <ul>
            <li>Status 201: The student information has been submitted successfully. (on success, includes the submitted data)</li>
            <li>Status 400: Missing required fields: (list of missing fields). (if any required field is missing)</li>
            <li>Status 500: Internal Server Error. (on internal server error)</li>
          </ul>
      </ul>
    </li>
    <li>
      <b>POST /student/fee</b>
      <ul>
        <li>Description: Submit the student's fee payment details.</li>
        <li>Requires Authentication: Yes</li>
        <li>Request Body:</li>
          <ul>
            <li>UTR: (String) The UTR number of the fee payment.</li>
            <li>TID: (String) The TID number of the fee payment.</li>
          </ul>
        <li>Response:</li>
          <ul>
            <li>Status 201: Fee payment details submitted successfully. (on success, includes the submitted data)</li>
            <li>Status 400: Missing required fields: UTR and TID. (if either UTR or TID is missing)</li>
            <li>Status 500: Error inserting Fee. (on internal server error)</li>
          </ul>
      </ul>
    </li>
    <li>
      <b>POST /student/upload-image</b>
      <ul>
        <li>Description: This API endpoint allows authenticated students to upload their profile pictures.</li>
        <li>Requires Authentication: Yes</li>
        <li>Content-Type: multipart/form-data</li>
        <li>Request Body:</li>
          <ul>
            <li>profilePicture: (image file) The UTR number of the fee payment.</li>
          </ul>
        <li>Response:</li>
          <ul>
            <li>Status 201: The image was uploaded successfully.</li>
            <li>Status 400: Missing required field: profilePicture.</li>
            <li>Status 500: An error occurred while uploading the image.(on internal server error)</li>
          </ul>
      </ul>
    </li>
    <li>
      <b>GET /student/get-messcard</b>
      <ul>
        <li>Description: Download the student's mess card as a PDF.</li>
        <li>Requires Authentication: Yes</li>
        <li>Response:</li>
          <ul>
            <li>Content-Type: application/pdf (on success)</li>
            <li>PDF document containing the student's mess card information.</li>
            <li>Status 500: Error generating PDF. (on internal server error)</li>
          </ul>
      </ul>
    </li>
  </ul>

</body>

</html>

